{#
SPDX-FileCopyrightText: 2025 Suguru Hirahara

SPDX-License-Identifier: AGPL-3.0-or-later
#}

{#
See: https://github.com/timvisee/send/blob/master/docs/docker.md
#}

# Server configuration
BASE_URL={{ send_environment_variable_base_url }}
DETECT_BASE_URL={{ send_environment_variable_detect_base_url | to_json }}
PORT={{ send_environment_variable_port }}
NODE_ENV={{ send_environment_variable_node_env }}
SEND_FOOTER_DMCA_URL={{ send_environment_variable_send_footer_dmca_url }}
SENTRY_CLIENT={{ send_environment_variable_sentry_client }}
SENTRY_DSN={{ send_environment_variable_sentry_dsn }}

# Upload and download limits
MAX_FILE_SIZE={{ send_environment_variable_max_file_size }}
MAX_FILES_PER_ARCHIVE={{ send_environment_variable_max_files_per_archive }}
MAX_EXPIRE_SECONDS={{ send_environment_variable_max_expire_seconds }}
MAX_DOWNLOADS={{ send_environment_variable_max_downloads }}
DOWNLOAD_COUNTS={{ send_environment_variable_download_counts }}
EXPIRE_TIMES_SECONDS={{ send_environment_variable_expire_times_seconds }}
DEFAULT_DOWNLOADS={{ send_environment_variable_default_downloads }}
DEFAULT_EXPIRE_SECONDS={{ send_environment_variable_default_expire_seconds }}

# Storage backend options
REDIS_HOST={{ send_environment_variable_redis_host }}
REDIS_PORT={{ send_environment_variable_redis_port }}
REDIS_USER={{ send_environment_variable_redis_user }}
REDIS_PASSWORD={{ send_environment_variable_redis_password }}
REDIS_DB={{ send_environment_variable_redis_db }}
{% if send_storage_backend_option == 'localsystem' %}
FILE_DIR={{ send_environment_variable_file_dir }}
{% elif send_storage_backend_option == 's3compatible' %}
S3_BUCKET={{ send_environment_variable_S3_bucket }}
S3_ENDPOINT={{ send_environment_variable_S3_endpoint }}
S3_USE_PATH_STYLE_ENDPOINT={{ send_environment_variable_S3_use_path_style_endpoint | to_json }}
AWS_ACCESS_KEY_ID={{ send_environment_variable_aws_access_key_id }}
AWS_SECRET_ACCESS_KEY={{ send_environment_variable_aws_secret_access_key }}
{% elif send_storage_backend_option == 'gcs' %}
GCS_BUCKET={{ send_environment_variable_gcs_bucket }}
{% endif %}

{{ send_environment_variables_additional_variables }}

{#
SPDX-FileCopyrightText: 2025 Suguru Hirahara

SPDX-License-Identifier: AGPL-3.0-or-later
#}

{#
See: https://github.com/timvisee/yourls/blob/master/docs/docker.md
#}

# Server configuration
BASE_URL={{ yourls_environment_variable_base_url }}
DETECT_BASE_URL={{ yourls_environment_variable_detect_base_url | to_json }}
PORT={{ yourls_environment_variable_port }}
NODE_ENV={{ yourls_environment_variable_node_env }}
SEND_FOOTER_DMCA_URL={{ yourls_environment_variable_yourls_footer_dmca_url }}
SENTRY_CLIENT={{ yourls_environment_variable_sentry_client }}
SENTRY_DSN={{ yourls_environment_variable_sentry_dsn }}

# Upload and download limits
MAX_FILE_SIZE={{ yourls_environment_variable_max_file_size }}
MAX_FILES_PER_ARCHIVE={{ yourls_environment_variable_max_files_per_archive }}
MAX_EXPIRE_SECONDS={{ yourls_environment_variable_max_expire_seconds }}
MAX_DOWNLOADS={{ yourls_environment_variable_max_downloads }}
DOWNLOAD_COUNTS={{ yourls_environment_variable_download_counts }}
EXPIRE_TIMES_SECONDS={{ yourls_environment_variable_expire_times_seconds }}
DEFAULT_DOWNLOADS={{ yourls_environment_variable_default_downloads }}
DEFAULT_EXPIRE_SECONDS={{ yourls_environment_variable_default_expire_seconds }}

# Storage backend options
REDIS_HOST={{ yourls_environment_variable_redis_host }}
REDIS_PORT={{ yourls_environment_variable_redis_port }}
REDIS_USER={{ yourls_environment_variable_redis_user }}
REDIS_PASSWORD={{ yourls_environment_variable_redis_password }}
REDIS_DB={{ yourls_environment_variable_redis_db }}
{% if yourls_storage_backend_option == 'localsystem' %}
FILE_DIR={{ yourls_environment_variable_file_dir }}
{% elif yourls_storage_backend_option == 's3compatible' %}
S3_BUCKET={{ yourls_environment_variable_S3_bucket }}
S3_ENDPOINT={{ yourls_environment_variable_S3_endpoint }}
S3_USE_PATH_STYLE_ENDPOINT={{ yourls_environment_variable_S3_use_path_style_endpoint | to_json }}
AWS_ACCESS_KEY_ID={{ yourls_environment_variable_aws_access_key_id }}
AWS_SECRET_ACCESS_KEY={{ yourls_environment_variable_aws_secret_access_key }}
{% elif yourls_storage_backend_option == 'gcs' %}
GCS_BUCKET={{ yourls_environment_variable_gcs_bucket }}
{% endif %}

{{ yourls_environment_variables_additional_variables }}
